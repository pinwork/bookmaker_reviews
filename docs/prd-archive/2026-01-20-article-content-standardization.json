{
  "featureName": "Article Content Standardization",
  "branchName": "feat/article-content-standardization",
  "userStories": [
    {
      "id": 1,
      "title": "Extend BonusGroupItem schema with optional fields",
      "acceptanceCriteria": [
        "Update BonusGroupItemSchema in src/types/schemas.ts",
        "Add optional fields: quickVerdict (string), rating (number 1-5), badge (string), pros (string[]), cons (string[]), keyStats (array of {label: string, value: string})",
        "All fields are optional - existing articles must still compile",
        "Update BonusGroupItem type in src/types/index.ts to match schema",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 1,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/types/schemas.ts", "src/types/index.ts"]
    },
    {
      "id": 2,
      "title": "Update ArticleGroups component for new optional fields",
      "acceptanceCriteria": [
        "Update src/components/article/ArticleGroups.tsx",
        "If item.rating exists: render star rating (★★★★☆) next to title",
        "If item.badge exists: render colored badge in top-right corner of card",
        "If item.keyStats exists: render stats row (big numbers) between header and content",
        "If item.pros exists: render ✅ list before content",
        "If item.cons exists: render ❌ list after pros",
        "All new UI elements are optional - render only if field exists",
        "Maintain existing styling consistency",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 1,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/components/article/ArticleGroups.tsx"]
    },
    {
      "id": 3,
      "title": "Rewrite CONTENT_GUIDE.md with new structure",
      "acceptanceCriteria": [
        "Remove outdated sections: 'Типи статей', detailed 'Resource Registry', 'Обмеження Claude Code'",
        "Add 'Quick Start' section with visual article structure diagram",
        "Add 'Groups' section explaining group and item structure",
        "Document all optional item fields with 'when to use' guidelines",
        "Add 'Decision Tree' for choosing optional fields",
        "Keep: Обов'язкові поля, Collections, linkedResources, comparisonTables, Table standards, FAQ, Content Sorting, Checklist",
        "Simplify remaining sections - remove obvious information",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 1,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["docs/CONTENT_GUIDE.md"]
    },
    {
      "id": 4,
      "title": "Migrate uk-betting-shops-bible to groups structure",
      "acceptanceCriteria": [
        "Update src/data/regions/gb/en/articles/uk-betting-shops-bible.ts",
        "Move 'statistics' content into groups item with keyStats",
        "Move 'employment' content into groups item with keyStats",
        "Move 'history' content into groups item (timeline as markdown)",
        "Move 'locators' content into groups item (links as markdown list)",
        "Move 'whyVisit', 'technology', 'future' into groups items",
        "Remove ad-hoc fields: statistics, employment, history, locators, whyVisit, technology, future",
        "Keep: comparisonTables, linkedResources, intro, faq, footer, tooltips",
        "Article must render correctly",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 2,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/data/regions/gb/en/articles/uk-betting-shops-bible.ts"]
    },
    {
      "id": 5,
      "title": "Migrate ie-betting-shops-bible to groups structure",
      "acceptanceCriteria": [
        "Update src/data/regions/ie/en/articles/ie-betting-shops-bible.ts",
        "Apply same migration pattern as uk-betting-shops-bible",
        "Move statistics, employment, history, technology, locators into groups",
        "Remove ad-hoc fields after migration",
        "Keep comparisonTables, linkedResources, intro, faq, footer, tooltips",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 2,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/data/regions/ie/en/articles/ie-betting-shops-bible.ts"]
    },
    {
      "id": 6,
      "title": "Migrate responsible-gambling-uk-bible to groups structure",
      "acceptanceCriteria": [
        "Update src/data/regions/gb/en/articles/responsible-gambling-uk-bible.ts",
        "Move 'bankBlocks' into groups item (table as markdown or use comparisonTables)",
        "Move 'realStories' into groups items (each story = separate item)",
        "Move 'psychology', 'nhsScreening', 'suicideStudy', 'majorFines' into groups",
        "Remove ad-hoc fields after migration",
        "Keep comparisonTables, linkedResources, intro, faq, footer, tooltips",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 2,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/data/regions/gb/en/articles/responsible-gambling-uk-bible.ts"]
    },
    {
      "id": 7,
      "title": "Migrate responsible-gambling-ie-bible to groups structure",
      "acceptanceCriteria": [
        "Update src/data/regions/ie/en/articles/responsible-gambling-ie-bible.ts",
        "Apply same migration pattern as uk version",
        "Move bankBlocks, realStories, psychology, hseScreening into groups",
        "Remove ad-hoc fields after migration",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 2,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/data/regions/ie/en/articles/responsible-gambling-ie-bible.ts"]
    },
    {
      "id": 8,
      "title": "Migrate uk-betting-industry-report to groups structure",
      "acceptanceCriteria": [
        "Update src/data/regions/gb/en/articles/uk-betting-industry-report.ts",
        "Move 'ukStatistics' into groups items with keyStats where appropriate",
        "Move any other ad-hoc fields into groups",
        "Remove ad-hoc fields after migration",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 2,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/data/regions/gb/en/articles/uk-betting-industry-report.ts"]
    },
    {
      "id": 9,
      "title": "Migrate ie-betting-industry-report to groups structure",
      "acceptanceCriteria": [
        "Update src/data/regions/ie/en/articles/ie-betting-industry-report.ts",
        "Apply same migration pattern as uk version",
        "Move irelandStatistics and other ad-hoc fields into groups",
        "Remove ad-hoc fields after migration",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 2,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/data/regions/ie/en/articles/ie-betting-industry-report.ts"]
    },
    {
      "id": 10,
      "title": "Cleanup: Remove ad-hoc fields from IndustryReportSchema",
      "acceptanceCriteria": [
        "Update src/types/schemas.ts",
        "Remove: statistics, ukStatistics, irelandStatistics, majorFines, psychology, nhsScreening, hseScreening, suicideStudy, locators, history, employment, whyVisit, technology, future, realStories, bankBlocks",
        "Keep: comparisonTables, linkedResources, groups, faq, intro, footer, tooltips, collections, slug, h1, metaTitle, metaDescription",
        "Remove .passthrough() if no longer needed",
        "Update IndustryReport type in src/types/index.ts to match",
        "All articles must still compile",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 3,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": [
        "src/types/schemas.ts",
        "src/data/regions/gb/en/articles/uk-ultimate-bonus-guide.ts",
        "src/data/regions/ie/en/articles/ie-ultimate-bonus-guide.ts"
      ]
    },
    {
      "id": 11,
      "title": "Cleanup: Remove legacy table fields from schema",
      "acceptanceCriteria": [
        "Update src/types/schemas.ts",
        "Remove: chainsComparison, comparisonTable (singular), toolsComparison",
        "These were migrated to comparisonTables[] in previous PRD",
        "Verify no articles use these fields",
        "npm run lint passes",
        "npm run build passes"
      ],
      "priority": 3,
      "passes": true,
      "completedAt": "2026-01-20",
      "filesChanged": ["src/types/schemas.ts"]
    }
  ],
  "postFeatureReview": {
    "summary": "All article content has been standardized to use the groups[] structure. Extended BonusGroupItemSchema with optional fields (rating, badge, keyStats, pros, cons). ArticleGroups component now renders these optional fields with consistent UI. Six articles migrated from ad-hoc fields to groups structure. Schema cleanup removed 16+ ad-hoc fields and .passthrough().",
    "impact": "Affected files: 6 article data files, 2 schema files (schemas.ts, types/index.ts), 1 component (ArticleGroups.tsx), 1 documentation file (CONTENT_GUIDE.md). All articles now conform to strict IndustryReportSchema without passthrough.",
    "issues": "The bonus guide articles (uk-ultimate-bonus-guide.ts, ie-ultimate-bonus-guide.ts) had lastUpdated and future fields at top level that needed migration. These were converted to footer.lastUpdated and groups items respectively.",
    "recommendations": "Consider adding visual regression tests for ArticleGroups component to catch UI rendering issues. Future articles should follow CONTENT_GUIDE.md Decision Tree for choosing optional fields."
  }
}
